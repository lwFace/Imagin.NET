//
// Generated by Microsoft (R) HLSL Shader Compiler 10.1
//
// Parameters:
//
//   sampler2D blend;
//   sampler2D input;
//
//
// Registers:
//
//   Name         Reg   Size
//   ------------ ----- ----
//   input        s0       1
//   blend        s1       1
//

    ps_3_0
    def c0, -1, 2, 4, 0.166666672
    def c1, 0, 0.5, 6, 0.666666687
    def c2, 1, 0.333333343, 1.33333337, -0.666666627
    def c3, 1, -1, -0.333333343, 0.666666627
    def c4, -0.166666672, -0.5, -0.666666687, 0
    dcl_texcoord v0.xy  // uv<0,1>
    dcl_2d s0
    dcl_2d s1

#line 117 "C:\Users\james\OneDrive\Development\Software\Library\Imagin.NET\Apps.Paint\Blend\LuminosityEffect.fx"
    texld r0, v0, s0  // ::inputColor<0,1,2,3>

#line 120
    texld r1, v0, s1  // ::blendColor<0,1,2,3>

#line 127
    rcp r2.x, r1.w
    mul_sat r1.xyz, r1, r2.x  // ::blendColor<0,1,2>

#line 48
    add r2.xyz, -r0.xzyw, r0.zyxw

#line 22
    cmp r3.xy, r2.z, r0.yxzw, r0
    min r2.w, r0.z, r3.x  // ::fmin<0>
    max r4.x, r3.y, r0.z  // ::fmax<0>
    add r3.x, -r2.w, r4.x  // ::delta<0>
    add r2.w, r2.w, r4.x  // ::maxplusmin<0>

#line 40
    add r3.y, r2.w, c0.x
    rcp r3.z, r2.w
    mul r3.z, r3.z, r3.x  // ::hsl<1>
    add r2.w, -r2.w, c0.y
    rcp r2.w, r2.w
    mul r2.w, r2.w, r3.x  // ::hsl<1>
    cmp r5.x, r3.y, r2.w, r3.z  // ::hsl<1>

#line 47
    add r3.yz, r0.xxyw, -r4.x
    rcp r2.w, r3.x

#line 50
    mul r2.y, r2.w, r2.y  // ::hsl<0>
    mad r2.xz, r2, r2.w, c0.yyzw  // ::hsl<0,0>
    cmp r2.x, -r3_abs.z, r2.x, r2.z  // ::hsl<0>
    cmp r2.x, -r3_abs.y, r2.y, r2.x  // ::hsl<0>
    mul r2.y, r2.x, c0.w  // ::hsl<0>

#line 55
    mad r2.z, r2.x, c0_abs.w, c0_abs.x  // ::hsl<0>
    cmp r5.yzw, r2.x, r2.y, r2.z  // ::hsl<0,0,0>
    cmp r2, -r3_abs.x, c1.x, r5  // ::hsl<1,0,0,0>

#line 21
    add r3.x, -r1.y, r1.x
    cmp r1.xy, r3.x, r1.yxzw, r1
    min r3.x, r1.z, r1.x  // ::fmin<0>
    max r3.y, r1.y, r1.z  // ::fmax<0>
    add r1.x, r3.x, r3.y  // ::maxplusmin<0>

#line 27
    mul r3.xyz, r1.x, c1.y  // ::hsl<2,2,2>

#line 86
    if_eq r2.x, c1.x

#line 89
    else

#line 93
      add r1.y, r1.x, c0.x

#line 66
      add r4, r2, c2  // HueToRGB::temp3<0,0,0>

#line 94
      mul r1.z, r3.z, r4.x  // ::temp2<0>
      mad r2.y, r1.x, c1.y, r2.x
      mad r2.x, r2.x, -r3.z, r2.y  // ::temp2<0>
      cmp r1.y, r1.y, r2.x, r1.z  // ::temp2<0>
      add r1.x, -r1.y, r1.x  // ::temp1<0>

#line 65
      add r1.z, -r4.y, -c0.x
      cmp r1.z, r1.z, r4.y, r4.w  // HueToRGB::temp3<0>
      cmp r1.z, r4.y, r1.z, r4.z  // HueToRGB::temp3<0>

#line 71
      add r2.x, -r1.x, r1.y
      mul r2.y, r2.x, c1.z
      mad r2.z, r2.y, r1.z, r1.x  // ::rgbComponent<0>

#line 74
      add r4.xyz, r1.z, c4
      add r1.z, -r1.z, c1.w
      mul r1.z, r1.z, r2.x
      mad r1.z, r1.z, c1.z, r1.x  // ::rgbComponent<0>
      cmp r1.z, r4.z, r1.x, r1.z  // ::rgbComponent<0>
      cmp r1.z, r4.y, r1.z, r1.y  // ::rgbComponent<0>
      cmp r3.x, r4.x, r1.z, r2.z  // ::rgbComponent<0>

#line 65
      add r1.z, -r2.w, -c0.x
      add r4, r2.w, c3  // HueToRGB::temp3<0,0,0,0>
      cmp r1.z, r1.z, r2.w, r4.y  // HueToRGB::temp3<0>
      cmp r1.z, r2.w, r1.z, r4.x  // HueToRGB::temp3<0>

#line 71
      mad r2.z, r2.y, r1.z, r1.x  // ::rgbComponent<0>

#line 74
      add r5.xyz, r1.z, c4
      add r1.z, -r1.z, c1.w
      mul r1.z, r1.z, r2.x
      mad r1.z, r1.z, c1.z, r1.x  // ::rgbComponent<0>
      cmp r1.z, r5.z, r1.x, r1.z  // ::rgbComponent<0>
      cmp r1.z, r5.y, r1.z, r1.y  // ::rgbComponent<0>
      cmp r3.y, r5.x, r1.z, r2.z  // ::rgbComponent<0>

#line 65
      add r1.z, -r4.z, -c0.x
      add r2.z, r2.w, -c2.z  // HueToRGB::temp3<0>
      cmp r1.z, r1.z, r4.z, r2.z  // HueToRGB::temp3<0>
      cmp r1.z, r4.z, r1.z, r4.w  // HueToRGB::temp3<0>

#line 71
      mad r2.y, r2.y, r1.z, r1.x  // ::rgbComponent<0>

#line 74
      add r4.xyz, r1.z, c4
      add r1.z, -r1.z, c1.w
      mul r1.z, r1.z, r2.x
      mad r1.z, r1.z, c1.z, r1.x  // ::rgbComponent<0>
      cmp r1.x, r4.z, r1.x, r1.z  // ::rgbComponent<0>
      cmp r1.x, r4.y, r1.x, r1.y  // ::rgbComponent<0>
      cmp r3.z, r4.x, r1.x, r2.y  // ::rgbComponent<0>

#line 103
    endif

#line 135
    lrp oC0.xyz, r1.w, r3, r0  // ::main<0,1,2>
    mov oC0.w, r0.w  // ::main<3>

// approximately 84 instruction slots used (2 texture, 82 arithmetic)
